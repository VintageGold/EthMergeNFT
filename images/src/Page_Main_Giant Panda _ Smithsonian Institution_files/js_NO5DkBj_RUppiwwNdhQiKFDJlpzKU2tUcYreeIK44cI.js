/*!
  hey, [be]Lazy.js - v1.8.2 - 2016.10.25
  A fast, small and dependency free lazy load script (https://github.com/dinbror/blazy)
  (c) Bjoern Klinggaard - @bklinggaard - http://dinbror.dk/blazy
*/
  (function(q,m){"function"===typeof define&&define.amd?define(m):"object"===typeof exports?module.exports=m():q.Blazy=m()})(this,function(){function q(b){var c=b._util;c.elements=E(b.options);c.count=c.elements.length;c.destroyed&&(c.destroyed=!1,b.options.container&&l(b.options.container,function(a){n(a,"scroll",c.validateT)}),n(window,"resize",c.saveViewportOffsetT),n(window,"resize",c.validateT),n(window,"scroll",c.validateT));m(b)}function m(b){for(var c=b._util,a=0;a<c.count;a++){var d=c.elements[a],e;a:{var g=d;e=b.options;var p=g.getBoundingClientRect();if(e.container&&y&&(g=g.closest(e.containerClass))){g=g.getBoundingClientRect();e=r(g,f)?r(p,{top:g.top-e.offset,right:g.right+e.offset,bottom:g.bottom+e.offset,left:g.left-e.offset}):!1;break a}e=r(p,f)}if(e||t(d,b.options.successClass))b.load(d),c.elements.splice(a,1),c.count--,a--}0===c.count&&b.destroy()}function r(b,c){return b.right>=c.left&&b.bottom>=c.top&&b.left<=c.right&&b.top<=c.bottom}function z(b,c,a){if(!t(b,a.successClass)&&(c||a.loadInvisible||0<b.offsetWidth&&0<b.offsetHeight))if(c=b.getAttribute(u)||b.getAttribute(a.src)){c=c.split(a.separator);var d=c[A&&1<c.length?1:0],e=b.getAttribute(a.srcset),g="img"===b.nodeName.toLowerCase(),p=(c=b.parentNode)&&"picture"===c.nodeName.toLowerCase();if(g||void 0===b.src){var h=new Image,w=function(){a.error&&a.error(b,"invalid");v(b,a.errorClass);k(h,"error",w);k(h,"load",f)},f=function(){g?p||B(b,d,e):b.style.backgroundImage='url("'+d+'")';x(b,a);k(h,"load",f);k(h,"error",w)};p&&(h=b,l(c.getElementsByTagName("source"),function(b){var c=a.srcset,e=b.getAttribute(c);e&&(b.setAttribute("srcset",e),b.removeAttribute(c))}));n(h,"error",w);n(h,"load",f);B(h,d,e)}else b.src=d,x(b,a)}else"video"===b.nodeName.toLowerCase()?(l(b.getElementsByTagName("source"),function(b){var c=a.src,e=b.getAttribute(c);e&&(b.setAttribute("src",e),b.removeAttribute(c))}),b.load(),x(b,a)):(a.error&&a.error(b,"missing"),v(b,a.errorClass))}function x(b,c){v(b,c.successClass);c.success&&c.success(b);b.removeAttribute(c.src);b.removeAttribute(c.srcset);l(c.breakpoints,function(a){b.removeAttribute(a.src)})}function B(b,c,a){a&&b.setAttribute("srcset",a);b.src=c}function t(b,c){return-1!==(" "+b.className+" ").indexOf(" "+c+" ")}function v(b,c){t(b,c)||(b.className+=" "+c)}function E(b){var c=[];b=b.root.querySelectorAll(b.selector);for(var a=b.length;a--;c.unshift(b[a]));return c}function C(b){f.bottom=(window.innerHeight||document.documentElement.clientHeight)+b;f.right=(window.innerWidth||document.documentElement.clientWidth)+b}function n(b,c,a){b.attachEvent?b.attachEvent&&b.attachEvent("on"+c,a):b.addEventListener(c,a,{capture:!1,passive:!0})}function k(b,c,a){b.detachEvent?b.detachEvent&&b.detachEvent("on"+c,a):b.removeEventListener(c,a,{capture:!1,passive:!0})}function l(b,c){if(b&&c)for(var a=b.length,d=0;d<a&&!1!==c(b[d],d);d++);}function D(b,c,a){var d=0;return function(){var e=+new Date;e-d<c||(d=e,b.apply(a,arguments))}}var u,f,A,y;return function(b){if(!document.querySelectorAll){var c=document.createStyleSheet();document.querySelectorAll=function(a,b,d,h,f){f=document.all;b=[];a=a.replace(/\[for\b/gi,"[htmlFor").split(",");for(d=a.length;d--;){c.addRule(a[d],"k:v");for(h=f.length;h--;)f[h].currentStyle.k&&b.push(f[h]);c.removeRule(0)}return b}}var a=this,d=a._util={};d.elements=[];d.destroyed=!0;a.options=b||{};a.options.error=a.options.error||!1;a.options.offset=a.options.offset||100;a.options.root=a.options.root||document;a.options.success=a.options.success||!1;a.options.selector=a.options.selector||".b-lazy";a.options.separator=a.options.separator||"|";a.options.containerClass=a.options.container;a.options.container=a.options.containerClass?document.querySelectorAll(a.options.containerClass):!1;a.options.errorClass=a.options.errorClass||"b-error";a.options.breakpoints=a.options.breakpoints||!1;a.options.loadInvisible=a.options.loadInvisible||!1;a.options.successClass=a.options.successClass||"b-loaded";a.options.validateDelay=a.options.validateDelay||25;a.options.saveViewportOffsetDelay=a.options.saveViewportOffsetDelay||50;a.options.srcset=a.options.srcset||"data-srcset";a.options.src=u=a.options.src||"data-src";y=Element.prototype.closest;A=1<window.devicePixelRatio;f={};f.top=0-a.options.offset;f.left=0-a.options.offset;a.revalidate=function(){q(a)};a.load=function(a,b){var c=this.options;void 0===a.length?z(a,b,c):l(a,function(a){z(a,b,c)})};a.destroy=function(){var a=this._util;this.options.container&&l(this.options.container,function(b){k(b,"scroll",a.validateT)});k(window,"scroll",a.validateT);k(window,"resize",a.validateT);k(window,"resize",a.saveViewportOffsetT);a.count=0;a.elements.length=0;a.destroyed=!0};d.validateT=D(function(){m(a)},a.options.validateDelay,a);d.saveViewportOffsetT=D(function(){C(a.options.offset)},a.options.saveViewportOffsetDelay,a);C(a.options.offset);l(a.options.breakpoints,function(a){if(a.width>=window.screen.width)return u=a.src,!1});setTimeout(function(){q(a)})}});;
!function(t,e){"use strict";"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.dBlazy=e()}(this,function(){"use strict";var t={};return t.matches=function(t,e){var n=Element.prototype;return n.matches||(n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector||function(t){for(var e=(window.document||window.ownerDocument).querySelectorAll(t),n=e.length;--n>=0&&e.item(n)!==this;);return n>-1}),!!t.matches(e)},t.pixelRatio=function(){return window.devicePixelRatio||1},t.windowWidth=function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||window.screen.width},t.activeWidth=function(t,e){var n=this,i=Object.keys(t),a=i[0],r=i[i.length-1],o=function(t){var i=n.windowWidth()*n.pixelRatio();return e?t<=n.windowWidth():t>=i},c=i.filter(o).map(function(e){return t[e]})[e?"pop":"shift"]();return"undefined"===c?t[n.windowWidth()>=r?r:a]:c},t.equal=function(t,e){return null!==t&&t.nodeName.toLowerCase()===e},t.closest=function(e,n){for(;e&&!(e instanceof HTMLDocument);e=e.parentNode)if(t.matches(e,n))return e;return null},t.extend=Object.assign||function(t){t=t||{};for(var e=1,n=arguments.length;e<n;e++)if(arguments[e])for(var i in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],i)&&(t[i]=arguments[e][i]);return t},t.forEach=function(t,e,n){var i=Object.prototype;if("[object Object]"===i.toString.call(t))for(var a in t)i.hasOwnProperty.call(t,a)&&e.call(n,t[a],a,t);else if(t)for(var r=0,o=t.length;r<o;r++)e.call(n,t[r],r,t)},t.hasClass=function(t,e){return t.classList?t.classList.contains(e):-1!==t.className.indexOf(e)},t.addClass=function(e,n){e.classList?e.classList.add(n):t.hasClass(e,n)||(e.className+=" "+n)},t.setAttr=function(t,e,n){if(t.hasAttribute("data-"+e)){var i=t.getAttribute("data-"+e);"src"===e?t.src=i:t.setAttribute(e,i),n&&t.removeAttribute("data-"+e)}},t.setAttrs=function(t,e,n){var i=this;i.forEach(e,function(e){i.setAttr(t,e,n)})},t.setAttrsWithSources=function(t,e,n){var i=this,a=t.parentNode||null,r=a&&i.equal(a,"picture"),o=r?a.getElementsByTagName("source"):t.getElementsByTagName("source");e=e||(r?"srcset":"src"),o.length&&i.forEach(o,function(t){i.setAttr(t,e,n)})},t.updateBg=function(t,e){var n=this,i=n.parse(t.getAttribute("data-backgrounds"));if(i){var a=n.activeWidth(i,e);a&&"undefined"!==a&&(t.style.backgroundImage='url("'+a.src+'")',t.style.paddingBottom=a.ratio+"%")}},t.removeAttrs=function(t,e){this.forEach(e,function(e){t.removeAttribute("data-"+e)})},t.on=function(e,n,i,a){e&&e.addEventListener(n,function(e){for(var n=e.target;n&&n!==this;)t.matches(n,i)&&a.call(n,e),n=n.parentNode})},t.once=function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments),t=null,e)}},t.parse=function(t){try{return JSON.parse(t)}catch(t){return!1}},t.animate=function(t){function e(){t.classList.remove("animated",i),t.removeEventListener("animationend",e),n.forEach(a,function(e){t.style.removeProperty(e)})}var n=this,i=t.dataset.animation,a=["animation","animation-duration","animation-delay","animation-iteration-count"];t.classList.add("animated",i),n.forEach(["Duration","Delay","IterationCount"],function(e){"animation"+e in t.dataset&&(t.style["animation"+e]=t.dataset["animation"+e])}),n.removeAttrs(t,a),t.addEventListener("animationend",e)},t.throttle=function(t,e,n){var i=0;return function(){var a=+new Date;a-i<e||(i=a,t.apply(n,arguments))}},t.resize=function(t,e){return window.onresize=function(){window.clearTimeout(e),e=window.setTimeout(t,200)},t},t.trigger=function(t,e,n){var i,a={detail:n||{},bubbles:!0,cancelable:!0};window.CustomEvent?i=new CustomEvent(e,a):(i=document.createEvent("CustomEvent"),i.initCustomEvent(e,!0,!0,a)),t.dispatchEvent(i)},t});
;
!function(o,t){"use strict";"function"==typeof define&&define.amd?define([window.dBlazy],t):"object"==typeof exports?module.exports=t(window.dBlazy):o.Bio=t(window.dBlazy)}(this,function(o){"use strict";function t(o){var t=this;t.options=s.extend({},t.defaults,o||{}),c=!1,u=!1,n(t)}function n(o){var t={rootMargin:o.options.rootMargin,threshold:o.options.threshold};o.elms=(o.options.root||e).querySelectorAll(o.options.selector+":not(."+o.options.successClass+")"),o.count=o.elms.length,o.windowWidth=s.windowWidth(),o.prepare(),o.observer=new IntersectionObserver(o.observing.bind(o),t),u||(o.observe(),u=!0)}var e=document,s=o,i=0,r=0,c=!1,u=!1,d=t.prototype;return d.constructor=t,d.count=0,d.counted=-1,d.erCounted=0,d._er=-1,d._ok=1,d.defaults={root:null,disconnect:!1,error:!1,success:!1,intersecting:!1,observing:!1,useAjax:!1,successClass:"b-loaded",selector:".b-lazy",errorClass:"b-error",bgClass:"b-bg",rootMargin:"0px",threshold:[0]},d.load=function(o){var t=this;t.isValid(o)?t.intersecting(o):s.forEach(o,function(o){t.isValid(o)&&t.intersecting(o)}),c||t.disconnect()},d.isLoaded=function(o){return s.hasClass(o,this.options.successClass)},d.isValid=function(o){return"object"==typeof o&&void 0===o.length&&!this.isLoaded(o)},d.prepare=function(){},d.revalidate=function(o){var t=this;(!0===o||t.count!==t.counted)&&r<t.counted&&(c=!1,t.elms=(t.options.root||e).querySelectorAll(t.options.selector),t.observe(),r++)},d.intersecting=function(o){var t=this;"function"==typeof t.options.intersecting&&t.options.intersecting(o,t.options),s.trigger(o,"bio.intersecting",{options:t.options}),t.lazyLoad(o),t.counted++,c||t.observer.unobserve(o)},d.lazyLoad=function(o){},d.success=function(o,t,n){var e=this;"function"==typeof e.options.success&&e.options.success(o,t,n,e.options),e.erCounted>0&&e.erCounted--},d.error=function(o,t,n){var e=this;"function"==typeof e.options.error&&e.options.error(o,t,n,e.options),e.erCounted++},d.loaded=function(o,t,n){var e=this;o.classList.add(t===e._ok?e.options.successClass:e.options.errorClass),e[t===e._ok?"success":"error"](o,t,n)},d.observe=function(){var o=this;i=o.elms.length,s.forEach(o.elms,function(t){o.isLoaded(t)||o.observer.observe(t)})},d.observing=function(o,t){var n=this;n.entries=o,c||(s.forEach(o,function(o){"function"==typeof n.options.observing&&n.options.observing(o,t,n.options),(o.isIntersecting||o.intersectionRatio>0)&&(n.isLoaded(o.target)||n.intersecting(o.target),i--)}),n.disconnect())},d.disconnect=function(o){var t=this;t.erCounted>0&&!o||((0===i||t.count===t.counted)&&t.options.disconnect||o)&&(t.observer.disconnect(),c=!0)},d.destroy=function(o){var t=this;t.disconnect(o),t.observer=null},d.disconnected=function(){return c},d.reinit=function(){c=!1,u=!1,n(this)},t});
;
!function(t,e){"use strict";"function"==typeof define&&define.amd?define([window.dBlazy,window.Bio],e):"object"==typeof exports?module.exports=e(window.dBlazy,window.Bio):t.BioMedia=e(window.dBlazy,window.Bio)}(this,function(t,e){"use strict";var a=t,o=e,s="src",u="srcset",c="data-src",d="data-src",l="data-srcset",r=[s],p=[u,s];function i(t){return o.apply(this,arguments)}var n,f,e=i.prototype=Object.create(e.prototype);return e.constructor=i,e.prepare=(n=e.prepare,function(){var e,o=this;return o.options.breakpoints&&(e=[],a.forEach(o.options.breakpoints,function(t){if(r.push(t.src.replace("data-","")),t.width>=o.windowWidth)return c=t.src,e.push(c),!1}),0<e.length&&(c=e[0])),n.call(this)}),e.lazyLoad=(f=e.lazyLoad,function(t){if(!t.hasAttribute("data-bio-hit")){var e=this,o=t.parentNode,i=a.equal(t,"img"),r=void 0===t.src&&t.classList.contains(e.options.bgClass),n=o&&a.equal(o,"picture"),o=a.equal(t,"video");return n?(a.setAttrsWithSources(t,u,!0),a.setAttr(t,s,!0),e.loaded(t,e._ok)):o?(a.setAttrsWithSources(t,s,!0),t.load(),e.loaded(t,e._ok)):i||r?e.setImage(t,r):t.getAttribute(d)&&t.hasAttribute(s)&&(a.setAttr(t,s,!0),e.loaded(t,e._ok)),t.setAttribute("data-bio-hit",1),f.apply(this,arguments)}}),e.promise=function(r,n){var s=this;return new Promise(function(t,e){function o(){n?s.setBg(r):a.setAttrs(r,p,!1)}var i=new Image;i.onload=function(){o(),t(s._ok)},i.onerror=function(){o(),e(s._er)},i.src=r.getAttribute(n?c:d),r.hasAttribute(l)&&(i.srcset=r.getAttribute(l))})},e.setImage=function(e,o){var i=this;return i.promise(e,o).then(function(t){i.loaded(e,t),a.removeAttrs(e,o?r:p)}).catch(function(t){i.loaded(e,t),e.removeAttribute("data-bio-hit")}).finally(function(){a.trigger(e,"bio.finally",{options:i.options})})},e.setBg=function(t){t.hasAttribute(c)&&(t.style.backgroundImage='url("'+t.getAttribute(c)+'")',t.removeAttribute(s))},i});
;
!function(t,a,e,i,n,s){"use strict";function o(t){var e=a.blazy,n=t.getAttribute("data-blazy"),s=n&&"1"!==n?i.parse(n)||{}:{};e.revalidate=e.revalidate||i.hasClass(t,"blazy--revalidate"),i.addClass(t,"blazy--on"),r(t,s)}a.blazy=a.blazy||{init:null,loopRatio:!1,windowWidth:0,blazySettings:{},ioSettings:{},isForced:!1,revalidate:!1,options:{},globals:function(){var t=this,a={success:t.clearing.bind(t),error:t.clearing.bind(t),selector:".b-lazy",errorClass:"b-error",successClass:"b-loaded"};return i.extend(t.blazySettings,t.ioSettings,a)},clearing:function(t){var a=this,e=i.hasClass(t,"b-responsive")&&t.hasAttribute("data-pfsrc"),s=i.closest(t,".media"),o=[t,i.closest(t,".is-loading"),i.closest(t,'[class*="loading"]')];i.forEach(o,function(t){null!==t&&(t.className=t.className.replace(/(\S+)loading/,""))}),n.picturefill&&e&&n.picturefill({reevaluate:!0,elements:[t]}),a.updateContainer(t,s),a.isLoaded(t)&&(a.has(s,"data-animation")||a.has(t,"data-animation"))&&i.animate(a.has(s,"data-animation")?s:t),i.trigger(t,"blazy.done",{options:a.options})},isLoaded:function(t){return null!==t&&i.hasClass(t,this.options.successClass)},has:function(t,a){return null!==t&&t.hasAttribute(a)},updateContainer:function(t,a){var e=this;e.isLoaded(t)&&(i.equal(t.parentNode,"picture")&&e.has(a,"data-dimensions")&&e.updatePicture(t,a),e.has(t,"data-backgrounds")&&i.updateBg(t,e.options.mobileFirst))},updatePicture:function(t,a){a.style.paddingBottom=Math.round(t.naturalHeight/t.naturalWidth*100,2)+"%"},updateRatio:function(t){var a=this,e=i.parse(t.getAttribute("data-dimensions"))||"dimensions"in a.options&&a.options.dimensions;if(!e)return void a.updateFallbackRatio(t);var n=null!==t.querySelector("picture"),s=i.activeWidth(e,n);"undefined"!==s&&(t.style.paddingBottom=s+"%"),(n||a.has(t,"data-backgrounds"))&&a.updateContainer(n?t.querySelector("img"):t,t)},updateFallbackRatio:function(t){!t.hasAttribute("style")&&t.hasAttribute("data-ratio")&&(t.style.paddingBottom=t.getAttribute("data-ratio")+"%")},doNativeLazy:function(t){var a=this;i.setAttrs(t,["srcset","src"],!0),i.setAttrsWithSources(t,!1,!0),i.addClass(t,a.options.successClass),a.clearing(t)},isNativeLazy:function(){return"loading"in HTMLImageElement.prototype},isIo:function(){return this.ioSettings&&this.ioSettings.enabled&&"IntersectionObserver"in n},isBlazy:function(){return!this.isIo()&&"Blazy"in n},forEach:function(t){var a=t.querySelector("[data-blazy]"),e=t.querySelectorAll(".blazy:not(.blazy--on)");e.length>0&&i.forEach(e,o,t),null===a&&r(t)},run:function(t){return this.isIo()?new BioMedia(t):new Blazy(t)},afterInit:function(t){var a=this,e=null===t.querySelector(".media--ratio")?[]:t.querySelectorAll(".media--ratio"),s=function(){a.windowWidth=i.windowWidth(),e.length>0&&i.forEach(e,a.updateRatio.bind(a),t),a.isNativeLazy()||!a.isBlazy()&&!a.revalidate||a.init.revalidate(!0)};s(),n.addEventListener("resize",i.throttle(s,200,a),!1)}};var r=function(t,e){var n=a.blazy,o=t instanceof HTMLDocument?t:i.closest(t,"html");if(e=e||{},e.mobileFirst=e.mobileFirst||!1,s.documentElement.isSameNode(o)||(e.root=o),n.options=i.extend({},n.globals(),e),n.isNativeLazy()||n.isForced){var r=t.querySelectorAll(n.options.selector+"[loading]:not(."+n.options.successClass+")");r.length>0&&i.forEach(r,n.doNativeLazy.bind(n))}n.init=n.run(n.options),n.afterInit(t)};a.behaviors.blazy={attach:function(t){"length"in(t=t||s)&&(t=t[0]);var n=a.blazy;n.blazySettings=e.blazy||{},n.ioSettings=e.blazyIo||{},i.once(n.forEach(t))}}}(jQuery,Drupal,Drupal.settings,dBlazy,this,this.document);
;
